<html>

<head>
<meta http-equiv="Content-Language" content="ru">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Обычное и управляемое приложение</title>
<style>
<!--
 li.MsoNormal
	{mso-style-parent:"";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	}
-->
</style>
</head>

<body>

<table border="0" cellpadding="0" cellspacing="0" style="border-style: solid; border-width: 2px; padding: 15px" background="Fon.jpg" bordercolor="#000080" width="1375" height="670">
	<!-- MSTableType="layout" -->
	<tr>
		<td valign="top" style="border: 2px solid #000080">
		<!-- MSCellType="DecArea" -->
		&nbsp;</td>
		<td valign="top" height="91">
		<!-- MSCellType="ContentHead" -->
		<p align="center"><font size="5" color="#800080"><b><i>
		<a name="Обычное_и_управляемое_приложение">Обычное и управляемое 
		приложение</a></i></b></font></p>&nbsp;</td>
	</tr>
	<tr>
		<td valign="top" width="224">
		<!-- MSCellType="NavBody" -->
		&nbsp;</td>
		<td valign="top" style="border-style: solid; border-width: 2px; padding: 15px" height="575" width="1083">
		<!-- MSCellType="ContentBody" -->
		<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0cm; margin-bottom: 8.65pt; background: white">
		<span style="color: #4B494F">Практически все современные конфигурации 
		уже работают под управляемым режимом, но все равно ещё встречаются 
		организации, где используются устарелые конфигурации, которые работают в 
		режиме обычного приложения. Поэтому принципы работы обычного приложения 
		необходимо знать.&nbsp; </span></p>
		<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0cm; margin-bottom: 8.65pt; background: white" align="justify">
		<span style="color: #4B494F">В режиме обычного приложения используется 
		интерфейс и формы, которые применялись в платформах 8.0 и 8.1. Раньше 
		этот режим никак не назывался, сейчас же он называется «режим обычного 
		приложения», а формы, которые используются в этом режиме, называются 
		«обычные формы».</span></p>
		<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0cm; margin-bottom: 8.65pt; background: white">
		<span style="color: #4B494F">Посмотрим вкратце, как выглядит этот режим. 
		Многим он уже будет знаком, но некоторые, особенно те, кто не застал 
		работу под платформами 8.0 и 8.1, его увидят в первый раз. После 
		загрузки программы пользователь видит интерфейс с меню в его верхней 
		части, рисунок 1.</span></p>
		<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0cm; margin-bottom: 8.65pt; background: white" align="center">
		<img border="0" src="obichn1.jpg"></p>
		<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0cm; margin-bottom: 8.65pt; background: white" align="center">
		Рисунок 1 - Интерфейс обычного приложения</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Разработчик может использовать автоматически генерируемые формы, или 
		самостоятельно конструировать их в&nbsp;конфигураторе 1С.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Обычные формы разработчику нужно конструировать мышкой: размещать на 
		форме необходимые элементы (кнопку, поле, таблицу), передвигать их в 
		удобное место и определять размер</span><span style="font-family: 'Times New Roman',serif">, 
		рисунок 2.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt" align="center">
		<img border="0" src="obichn2.jpg"></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt" align="center">
		Рисунок 2 - Конструирование обычной формы</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Очень часто при разработке сложных форм приходилось учитывать 
		взаимодействие элементов формы между собой. Для этого устанавливались 
		привязки. Иногда они сбивались, и форма приобретала не совсем красивый 
		вид. Не будем особо вдаваться в этот механизм и последствия его 
		неправильного использования, поскольку в случае управляемых форм он 
		утратил свою актуальность.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Напоследок отмечу, что в отличие от управляемого приложения, обычное 
		может работать только под «толстым клиентом». По большому счету, это 
		есть основное, самое кардинальное отличие обычных форм от управляемых. 
		Поскольку режим управляемого приложения был разработан именно для работы 
		под «тонким клиентом».</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-left: 0cm; margin-right: 0cm; margin-top: 5.75pt; margin-bottom: 8.65pt">
		<b>
		<span style="font-size: 14.0pt; font-family: Terminal; color: #4B494F; text-transform: uppercase">
		РЕЖИМ УПРАВЛЯЕМОГО ПРИЛОЖЕНИЯ</span></b></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		&nbsp;Так в чем же особенность и кардинальное различие режима управляемого 
		приложения от обычного? Основное отличие — это использование 
		управляемого командного интерфейса и управляемых форм. Разберем каждую 
		из этих сущностей отдельно. Что такое управляемый командный интерфейс? 
		Для того, чтобы ответить на этот вопрос, необходимо углубиться опять в 
		прошлое.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Рассмотрим в самом простом виде, как велась разработка конфигурации в 
		обычном приложении. Сначала мы конструировали бизнес-логику: документы, 
		справочники, отчеты, обработки и их взаимодействие между собой. Потом мы 
		настраивали роли, например пользователь с ролью «Снабженец» имел доступ 
		к документу «Приход товара», а к документу «Расход товара»&nbsp; — нет. И 
		наоборот, пользователь с ролью «Продавец» имел доступ к документу 
		«Расход товара», а к документу «Приход товара» — нет. Следующим шагом мы 
		разрабатывали интерфейсы для каждого вида пользователя. Кто практиковал 
		разработку под обычным приложением, помнит, что был такой объект 
		конфигурации, как «Интерфейс», в котором можно было настроить каждое 
		меню наподобие меню на рисунке 1.2.2. И в нашем случае разработчику 
		нужно было потрудиться сделать два интерфейса: один для снабженца, а 
		другой для продавца. Потому что если бы он разработал один общий 
		интерфейс, в котором можно открыть и документ «Приход товара», и 
		документ «Расход товара», то было бы не совсем правильно, если бы 
		снабженец при попытке отрыть список документов «Расход товара», получил 
		сообщение системы, что у него нет на это прав. Чтобы избежать этого, 
		необходимо было сделать два интерфейса и для каждого пользователя 
		указать, под каким интерфейсом он должен работать.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">В 
		режиме управляемого приложения все намного проще. Более подробно 
		управляемый командный интерфейс мы будем изучать в следующей части. В 
		этой части мы разберем его в самых общих чертах. В случае интерфейса 
		«такси», управляемый командный интерфейс </span>
		<span style="font-family: 'Times New Roman',serif">имеет следующий вид, 
		рисунок 3.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt" align="center">
		<img border="0" src="obichn3.jpg"></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt" align="center">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Рисунок 3 - Управляемый командный интерфейс</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		При разработке управляемого приложения программисту придется идти 
		немного другим путем. Прежде чем разрабатывать бизнес-логику, нам нужно 
		определить подсистемы, в которые будут входить наши объекты (в обычном 
		приложении они тоже есть, но носят больше декларативный характер). 
		Например, документ «Приход товаров» будет входить в подсистему 
		«Снабжение», а документ «Расход товаров» будет входить в подсистему 
		«Продажи». В то же время некоторые объекты могут находиться в нескольких 
		подсистемах одновременно: справочник «Товары» будет входить и в 
		подсистему «Продажи», и в подсистему «Снабжение», и в подсистему 
		«Маркетинг». В этом случае разработчику нет необходимости создавать 
		объект «Интерфейс», система сама автоматически построит нужный вид 
		интерфейса исходя из настроек прав пользователя и функциональных опций.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Если у какого-то пользователя будет роль, в которой нет прав на просмотр 
		подсистемы, например «Снабжение», то при запуске приложения 1С он просто 
		не увидит этот пункт меню. Так же он не увидит в списке меню документ, 
		на который у него нет права хотя бы на просмотр.</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Отметим&nbsp; основные отличия управляемого командного интерфейса от 
		обычного:</span></p>
		<ul type="disc" style="margin-bottom: 0cm">
			<li class="MsoNormal" style="line-height: normal">
			<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
			Вид управляемого командного интерфейса настраивается автоматически с 
			помощью механизмов платформы в зависимости от настроек прав 
			пользователей и функциональных опций.</span></li>
			<li class="MsoNormal" style="line-height: normal">
			<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
			Пользователь может самостоятельно настраивать вид интерфейса по 
			своему желанию.</span></li>
		</ul>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Развитие технологий заставило фирму 1С пересмотреть архитектуру 
		платформы, и на свет появилась новая версия технологической платформы — 
		8.2. Основным ее отличием была возможность работать под «тонким 
		клиентом» и web-клиентом.&nbsp; Эти оба вида клиентских приложения («тонкий 
		клиент» и web-клиент) необходимы нам для работы через сеть интернет, а 
		работа через интернет, в отличие от работы по обычной сети, накладывает 
		существенные ограничения на скорость передачи данных и широту канала 
		данных. Что в свою очередь от разработчиков платформы потребовало 
		принципиально пересмотреть концепт работы формы. Если раньше на форме 
		разработчик мог напрямую&nbsp; обратиться к любому объекту справочника 
		или документа, то теперь это стало слишком дорогим удовольствием.&nbsp; 
		Поэтому был разработан <i><b>механизм управляемых форм.</b></i></span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		Основные отличия управляемых форм от обычных:</span></p>
		<ul type="disc" style="margin-bottom: 0cm">
			<li class="MsoNormal" style="line-height: normal">
			<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
			Возможность разделять выполнение кода в форме на сервере и на 
			клиенте. Для этого служат специальные директивы компиляции:&nbsp;<i>&amp;НаСервере</i>,&nbsp;<i>&amp;НаКлиенте</i>,&nbsp;<i>&amp;НаСерверБезКонтекста</i>,&nbsp;<i>&amp;НаКлиентеНаСеревереБезКонтекста</i>,&nbsp;<i>&amp;НаКлиентеНаСервере</i>. 
			При разработке управляемой формы необходимо определить, какой код 
			будет выполняться на стороне сервера, а какой код исполнится на 
			стороне клиента (например, в компьютере пользователя или в 
			web-браузере). Известно, что «1С:Предприятие» может запускаться в 
			том числе под «тонким клиентом» или web-клиентом, а под этими видами 
			клиентских приложений, из-за ограниченных пропускных характеристик 
			сети интернет, очень мало возможностей. Например, у Вас будет 
			отсутствовать доступ ко всем объектным типам базы: нельзя создать 
			новый элемент или изменить имеющийся элемент какого-нибудь 
			справочника или документа, пометить на удаление и т.п. По большому 
			счету, под «тонким клиентом» можно <i>только управлять </i>самой 
			формой, и как следствие, будут задействованы минимальные ресурсы 
			того устройства, где сейчас запущено приложение, а все более 
			серьезные операции (например, операции с прикладными типами) 
			запустятся на сервере. Поэтому на форме с помощью директив 
			компиляции можно определить, что будет выполняться на сервере, а что 
			на клиенте. </span></li>
			<li class="MsoNormal" style="line-height: normal">
			<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
			Нет необходимости в «прорисовке» формы и установлении привязок. 
			Разработчик просто декларирует положение нужного элемента на форме, 
			а система сама, автоматически, разместит его на форме. Как следствие 
			этого, пользователь в режиме приложения может самостоятельно 
			настраивать форму на свой вкус.</span></li>
			<li class="MsoNormal" style="line-height: normal">
			<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
			Управление формой происходит посредством команд. Если в обычных 
			формах требовалось нарисовать кнопку, потом писать обработчик 
			события нажатия на кнопку, то в управляемых формах&nbsp; нужно 
			разместить кнопку, а потом привязать к кнопке или команду формы, или 
			стандартную команду, или какую-нибудь глобальную команду. </span>
			</li>
			<li class="MsoNormal" style="line-height: normal">
			<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
			Помимо реквизитов, которые есть и у обычных форм, у управляемых форм 
			появились параметры. Параметры необходимы для управления 
			функциональностью формы при её открытии. Т.е. при создании обычной 
			формы, перед её открытием,&nbsp; можно присвоить реквизитам формы 
			какие-либо значения, которые впоследствии будут использоваться. В 
			случае управляемых форм механизм открытия другой:&nbsp; при открытии 
			нет возможности передачи данных напрямую, как было в обычных формах, 
			для этого нужно использовать параметры формы.</span></li>
		</ul>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt" align="justify">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">На 
		практике разрабатывать под управляемыми формами несколько легче, чем под 
		обычными, но существуют и свои нюансы. Основная сложность, это 
		определить, какой код будет выполняться на сервере, а какой на клиенте. 
		Потому что если неправильно разработать клиент-серверную архитектуру 
		управляемой формы, то будут иметь место проблемы с производительностью. 
		В то же время и разработать форму нужно так, чтобы через месяц можно 
		было разобрать, что там вообще происходит. </span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">&nbsp;Всего 
		существует три режима работы управляемого приложения, это:&nbsp; «такси», 
		формы в закладках и формы в отдельных окнах. &nbsp;Все примеры в этом курсе 
		будут на режиме «такси».</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		При создании новой пустой конфигурации по умолчанию она будет в режиме 
		такси. Если этот режим требуется поменять, то&nbsp; следует открыть 
		свойства конфигурации и в разделе&nbsp; «Режим совместимости интерфейса» 
		нужно поставить в свойство «Такси. Разрешить Версия 8.2». </span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">
		<span style="font-size: 12.0pt; font-family: 'Times New Roman',serif">
		После того, как установлен режим совместимости в значение «Такси. 
		Разрешить Версия 8.2», в пользовательском интерфейсе будет доступно 
		переключение режимов.&nbsp; Эта настройка дается в параметрах конфигурации 
		(Главное меню – Сервис – Параметры).</span></p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
		<p class="MsoNormal" style="line-height: normal; margin-bottom: 8.65pt">&nbsp;</p>
&nbsp;</td>
	</tr>
</table>

</body>

</html>
