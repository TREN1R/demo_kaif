<html>

<head>
<meta http-equiv="Content-Language" content="ru">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Лабораторная работа №6-2</title>
</head>

<body>

<table border="3" cellpadding="0" cellspacing="0" background="Fon.jpg" bordercolor="#000080" style="text-align: justify; word-spacing: 5; line-height: 100%; margin-left: 14; margin-right: 10; margin-top: 0; margin-bottom: 0" width="1375" height="672">
	<!-- MSTableType="layout" -->
	<tr>
		<td valign="top">
		<!-- MSCellType="DecArea" -->
		&nbsp;</td>
		<td valign="top" style="padding-left: 15px; padding-right: 10px; padding-top: 16px; padding-bottom: 10px" height="91">
		<!-- MSCellType="ContentHead" -->
		&nbsp;<p style="text-align: center"><i><b>
		<font size="5" color="#000080">Лабораторная работа №6-2.Определение 
		средней цены товара</font></b></i></td>
	</tr>
	<tr>
		<td valign="top" width="229">
		<!-- MSCellType="NavBody" -->
		&nbsp;</td>
		<td valign="top" style="text-align: justify; word-spacing: 4; line-height: 150%; margin-left: 15; margin-right: 10; margin-top: 6; margin-bottom: 6; padding-left: 16px; padding-right: 10px; padding-top: 16px; padding-bottom: 10px" height="575" width="1110">
		<!-- MSCellType="ContentBody" -->
		&nbsp;<p><font color="#000080"><b>
		<a name="Техническое_задание_">Техническое задание</a></b></font></p>
		<p><font color="#000080">1. Разработать процедуру, определяющую среднюю 
		цену товара</font></p>
		<p>&nbsp;</p>
		<p><font color="#000080"><b>Рекомендации к решению</b></font></p>
		<font color="#000080">1.&nbsp; Открыть конструктор документа <b>
		РасходнаяНакладная,</b> и открыть форму ранее созданного документа. 
		Выполнить доработку документа путем включения в его состав 
		дополнительных реквизитов, рисунок 1. Реквизит &quot;ВидСписания&quot; подключен к 
		перечислению, добейтесь, чтобы при открытии формы документа 
		автоматически устанавливался переключатель &quot;По средней цене&quot;. Так же при 
		открытии формы заносилась валюта &quot;Рубль&quot;, склад - &quot;Склад сырья&quot;, 
		Контрагент - &quot;ООО Олимп&quot;. В верхней части диалога должно отображаться 
		наименование организации, ставка НДС - НДС18.</font><p style="text-align: center">
		<img border="0" src="Lab6-24.jpg"></p>
		<p style="text-align: center"><font color="#000080">Рисунок 1 -Форма 
		документа &quot;Расходная накладная&quot;</font></p>
		<p><font color="#000080">2. Создайте регистр накопления&nbsp; 
		&quot;Себестоимость&quot; и свяжите его с документом &quot;РасходнаяНакладная&quot;, рисунок 
		2.</font></p>
		<p style="text-align: center"><font color="#000080">
		<img border="0" src="Lab6-25.jpg"><img border="0" src="Lab6-26.jpg"></font></p>
		<p style="text-align: center"><font color="#000080">Рисунок 2 - Создание 
		регистра &quot;Себестоимость&quot;</font></p>
		<p><font color="#000080">3. Откройте процедуру ОбработкаПроведения(), она 
		создавалась в лабораторной 6-1, и выполните корректировку этой 
		процедуры, рисунок 3. Для лучшего понимания как строить запрос, 
		выполняйте построение с использованием ролика 
		<a href="1C-Programmer-21day-Day12/1C-Programmer-21day-Day12-part04.avi">День 12, 
		часть 4</a> <img border="0" src="Lab6-30.gif"><img border="0" src="Lab6-31.gif"><img border="0" src="Lab6-32.gif"></font></p>
		<p style="text-align: center"><font color="#000080">Рисунок 3 - Текст 
		процедуры для определения наличия нужного количества товаров</font></p>
		<p style="text-align: left"><font color="#000080">Полученная процедура 
		будет работать верно только для оперативно проводимых документов. 
		Алгоритм работы заключается в следующем:</font></p>
		<p style="text-align: left"><font color="#000080">1) Информация 
		записывается в регистр &quot;Товары&quot;</font></p>
		<p style="text-align: left"><font color="#000080">2) В регистре с 
		помощью запроса проверяется наличие отрицательных остатков. Если 
		находятся отрицательные остатки, то проведение документа отменяется и 
		выдается предупреждение. Признаком отмены остатков является <b>
		Отказ=ИСТИНА</b></font></p>
		<p style="text-align: left"><font color="#000080">3) Если остатки не 
		отрицательные устанавливается <b>Отказ=ЛОЖЬ</b>, определяется Вид 
		списания и формируется новый запрос для получения средней цены 
		отпускаемого товара.</font></p>
		<p style="text-align: left"><font color="#000080">4) Допишите в 
		процедуру код, предназначенный для формирования средней цены, рисунок 4. 
		Для лучшего понимания как строить запрос прослушайте ролик
		<a href="1C-Programmer-21day-Day12/1C-Programmer-21day-Day12-part05.avi">
		день 12, часть 5</a> и
		<a href="1C-Programmer-21day-Day12/1C-Programmer-21day-Day12-part06.avi">
		День 12, часть 6</a></font></p>
		<p style="text-align: center"><img border="0" src="Lab6-33.gif"><img border="0" src="Lab6-34.gif"></p>
		<p style="text-align: center">Рисунок 4 - Расчет средней цены</p>
		<p style="text-align: left">&nbsp;</p>
		<p style="text-align: left"><font color="#000080">Полный текст процедуры 
		приведен на рисунке 5.</font></p>
		<p style="text-align: center"><font color="#000080">
		<img border="0" src="Lab6-30.gif"><img border="0" src="Lab6-31.gif"><img border="0" src="Lab6-32.gif"></font><img border="0" src="Lab6-33.gif"><img border="0" src="Lab6-34.gif"></p>
		<p style="text-align: center"><font color="#000080">Рисунок 5 - Полный 
		текст процедуры &quot;ОбработкаПроведения()</font></p>
		<p>5) Откройте форму объекта и настройте закладки табличной части слева 
		(горизонтально), рисунок 6.<p style="text-align: center">
		<img border="0" src="Lab6-27.jpg"><p style="text-align: center">Рисунок 
		6 - Управление закладками в форме<p>6)&nbsp; Войдите в режим 
		пользователя и проверьте как стали отображаться закладки в форме 
		документа, рисунок 7<p style="text-align: center">
		<img border="0" src="Lab6-28.jpg"><p style="text-align: center">Рисунок 
		7 - Отображение закладок слева<p>7) Войдите в режим пользователя и 
		Создайте документы &quot;Приходная накладная&quot; и Расходная накладная&quot;, таблица 
		1.<p>Таблица 1 - Информация для ввода<table border="2" cellpadding="0" cellspacing="0" width="927" height="253" bordercolor="#0000FF">
			<tr>
				<td height="41" width="185">Документ</td>
				<td height="41" width="157">Дата документа</td>
				<td height="41" width="155">Товар</td>
				<td height="41" width="103">Количество</td>
				<td height="41" width="98">Цена</td>
				<td height="41">Себестоимость</td>
				<td height="41" width="104">Сумма</td>
			</tr>
			<tr>
				<td width="185" height="45">Приходная накладная №3</td>
				<td width="157" height="45">18.03.22</td>
				<td width="155" height="45">Копыта крупные</td>
				<td width="103" height="45">40</td>
				<td width="98" height="45">280</td>
				<td height="45">280</td>
				<td height="45" width="104">11200</td>
			</tr>
			<tr>
				<td width="185" height="40">Расходная накладная №23</td>
				<td width="157" height="40">18.03.22</td>
				<td width="155" height="40">Копыта крупные</td>
				<td width="103" height="40">20</td>
				<td width="98" height="40">280</td>
				<td height="40">280</td>
				<td height="40" width="104">5600</td>
			</tr>
			<tr>
				<td width="185" height="40">Расходная накладная №29</td>
				<td width="157" height="40">04.04.22</td>
				<td width="155" height="40">Копыта крупные</td>
				<td width="103" height="40">&nbsp;5</td>
				<td width="98" height="40">280</td>
				<td height="40">280</td>
				<td width="104" height="40">1400</td>
			</tr>
			<tr>
				<td width="185" height="36">Приходная накладная №4 </td>
				<td width="157" height="36">04.04.22</td>
				<td width="155" height="36">Копыта крупные</td>
				<td width="103" height="36">10</td>
				<td width="98" height="36">150</td>
				<td height="36">150</td>
				<td width="104" height="36">1500</td>
			</tr>
			<tr>
				<td width="185">Расходная накладная №30</td>
				<td width="157">04.04.22</td>
				<td width="155">Копыта крупные</td>
				<td width="103">10</td>
				<td width="98">228</td>
				<td>228</td>
				<td width="104">2280</td>
			</tr>
		</table>
		<p><b>Примечание</b>. Чтобы получился верный результат, документы 
		необходимо вводить в такой же последовательности, как в таблице.<p>Когда 
		поступление выполнялось по одинаковой цене, в этом случае себестоимость 
		единицы товара была равна цене поступления. Когда поступил такой же 
		товар, но уже по другой цене, то это сказалось на себестоимости:<blockquote>
			<blockquote>
				<blockquote>
					<blockquote>
						<blockquote>
							<p>1) Приходная накладная №3 поступление 40 х 280 = 
							11200<p>2) Расходная накладная №23 выбытие 20 х 280 
							= 5600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
							<p>3) Расходная накладная №29 выбытие 5 х 28 = 1400 
							<p>ИТОГО: +40 -20 -5 = 15 х 280 = 4200 
							<p>4) Приходная накладная №4 поступление 10 х 150 = 
							1500<p>ОБЩЕЕ КОЛИЧЕСТВО: 25 кг. 15 кг х 280р.= 4200&nbsp; 
							и 10 кг х 150 р. = 1500&nbsp; 
							<p>СРЕДНЯЯ ЦЕНА: (4200 + 1500) / (15 + 10) = 5700 / 
							25 = 228 р.<p>5)&nbsp; Расходная накладная №30 
							выбытие 10 х 228 = 2280</blockquote>
					</blockquote>
				</blockquote>
			</blockquote>
		</blockquote>
		<p>Войдите в режим пользователя и проверьте выполненную работу путем 
		анализа содержимого регистра &quot;Себестоимость&quot;, Рисунок 7.<p style="text-align: center">
		<img border="0" src="Lab6-29.jpg"><p style="text-align: center">Рисунок 
		7 - Регистр &quot;Себестоимость&quot; после проведенных расчетов<p>&nbsp;<p>&nbsp;</td>
	</tr>
</table>

</body>

</html>
